# vi/vim

所有的 `Unix Like` 系统都会内建 `vi` 文书编辑器, 但是目前主要使用的是 [vim](https://www.vim.org/).

`vim` 是一款在 `Linux` 系统中非常流行的文本编辑器. 它具有强大的功能和灵活的配置选项, 可以用于编辑各种类型的文件.

`vim` 是从 `vi` 编辑器发展而来的, 具有 `vi` 的所有功能, 并且新增了许多扩展功能

`vim` 具有模式切换 (**输入模式**、**命令模式**、**底线命令模式**)、命令行操作、多窗口编辑等特性, 使得编辑更加高效.

## Install

- 在大多数 `Linux` 发行版中, `vim` 已经预装了, 可以直接使用. 如果没有预装, 可以通过包管理器进行安装, 例如:
  - Ubuntu: `sudo apt-get install vim`
  - CentOS: `sudo yum install vim`
  - Arch Linux: `sudo pacman -S vim`
  - macOS: 已内置

## 基本命令:

<ZoomImg src="/vi-vim-cheat-sheet-sch-en.svg" width="1024" height="724" />

- 基本操作:

  - 打开文件: `vim` 文件名.
  - 保存文件: 在 **命令模式** 下按下 `:w`, 然后按回车键.
  - 退出 `vim`: 在 **命令模式** 下按下 `:q`, 然后按回车键.
  - 强制退出 `vim`: 在 **命令模式** 下按下 `:q!`, 然后按回车键.
  - 进入 **输入模式**: 按下 `i`.
  - 退出 **输入模式**: 按下 `Esc`.

- 光标移动:

  - 上移: 按下 `k`.
  - 下移: 按下 `j`.
  - 左移: 按下 `h`.
  - 右移: 按下 `l`.

- 复制、粘贴、删除:

  - 复制当前行: 在 **命令模式** 下按下 `yy`.
  - 粘贴: 在 **命令模式** 下按下 `p`.
  - 删除当前行: 在 **命令模式** 下按下 `dd`.

- 搜索:

  - 向前搜索: 在 **命令模式** 下按下 `/`, 然后输入要搜索的内容, 按下回车键.
  - 向后搜索: 在 **命令模式** 下按下 `?`, 然后输入要搜索的内容, 按下回车键.
  - 搜索下一个匹配项: 在 **命令模式** 下按下 `n`.
  - 搜索上一个匹配项: 在 **命令模式** 下按下 `N`.

- 其他常用操作:

  - 撤销上一次操作: 按下 `u`.
  - 重做上一次撤销的操作: 按下 `Ctrl + r`.
  - 删除光标所在位置到行尾的内容: 按下 `d$`.
  - 删除光标所在位置到行首的内容: 按下 `d0`.
  - 删除整行并进入 **输入模式**: 按下 `cc`.
  - 复制当前光标所在位置的单词: 按下 `yw`.
  - 在当前行的末尾添加新行并进入 **输入模式**: 按下 `o`.
  - 在当前行的上方添加新行并进入 **输入模式**: 按下 `O`.

## 模式

<ZoomImg src="/vim_vi_workmodel.png" width="787" height="531"  />

- 输入模式 (`Insert Mode`):

  - 在输入模式下, 你可以像在普通文本编辑器中一样输入和编辑文本.
  - 进入输入模式的方式:
    - 在命令模式下按下 `i` 键: 光标会进入到当前位置, 你可以在光标后插入文本.
    - 在命令模式下按下 `a` 键: 光标会进入到当前位置的下一个位置, 你可以在光标后插入文本.
    - 在命令模式下按下 `o` 键: 会在当前行的下方插入新行, 并将光标移动到新行的起始位置, 你可以在新行中输入文本.
    - 在命令模式下按下 `O` 键: 会在当前行的上方插入新行, 并将光标移动到新行的起始位置, 你可以在新行中输入文本.

- 命令模式 (`Normal Mode`):

  - 在命令模式下, 你可以执行各种编辑和移动光标的命令.
  - 进入命令模式的方式:
    - 在底线命令模式下按下 `Esc` 键: 光标会进入到当前行的开头, 处于命令模式.
  - 在命令模式下, 可以使用各种快捷键和命令来编辑文本、移动光标、复制粘贴等.

- 底线命令模式 (`Command-Line Mode`):
  - 在底线命令模式下, 你可以执行一些底线命令, 如保存文件、退出 `vim` 等.
  - 进入底线命令模式的方式:
    - 在命令模式下按下 `:` 键: 屏幕底部会出现一个冒号, 表示进入底线命令模式.
  - 在底线命令模式下, 可以输入各种命令来执行不同的操作, 如保存文件 (`:w`)、退出 `vim` (`:q`)等.

总结:

- 输入模式用于编辑文本, 光标可以在文本中移动并输入内容.
- 命令模式用于执行各种编辑和移动光标的命令.
- 底线命令模式用于执行一些底线命令, 如保存文件、退出 `vim` 等.
